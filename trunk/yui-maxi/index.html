<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
    <!-- META TAGS -->
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <!-- CSS STYLES -->
    <!-- Individual YUI CSS files --> 
    <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.6.0/build/base/base-min.css"> 
    <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.6.0/build/assets/skins/sam/skin.css"> 
    <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.6.0/build/assets/skins/sam/autocomplete.css"> 

    <!-- LL Urban Achiever Styles -->
    <style type="text/css">
        body
        {
            margin: 0;
            padding: 0;
        }

        #mainContent
        {
            padding: 1em 2em;
 
        }

        #searchAutoComplete { width: 25em; padding-bottom: 2em; }
        
        div.show { visibility: visible; }
        div.hide { visibility: hidden; }

    </style>
    <!-- END STYLES -->

    <!-- JAVASCRIPT -->
    <!-- Individual YUI JS files --> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/yahoo-dom-event/yahoo-dom-event.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/connection/connection-min.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/get/get.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/datasource/datasource-min.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/autocomplete/autocomplete.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/element/element-beta-min.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/button/button-min.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/json/json-min.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/charts/charts-experimental-min.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/dragdrop/dragdrop-min.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/datatable/datatable-min.js"></script> 
    
    <!-- LL Urban Achiever JavaScript -->
    <script type="text/javascript">

    </script>
    <!-- END JS -->

    <title>Achievers @ the Movies</title>
</head>

<body class="yui-skin-sam">
<div id="mainContent">
    <h1>Achievers @ the Movies</h1>
    <form action="#">
    <div id="searchAutoComplete">
        <input id="movie" type="text"/><input id="search" type="submit" value="Get Movie" />
        <div id="searchContainer"></div>
    </div>
    </form>
    <script type="text/javascript">
        var autoComplete = function()
        {
            // Instantiate movieLensDataSource
            var movieLensDataSource = new YAHOO.util.ScriptNodeDataSource("http://frost.cs.umn.edu/morten/movielenstitle.php");
            movieLensDataSource.responseType = YAHOO.util.XHRDataSource.TYPE_JSON;
            movieLensDataSource.responseSchema = 
            {
                resultsList: "ResultSet.Result",
                fields: [
                    { key: "Title" },
                    { key: "imdbId" },
                    { key: "movieLensId" },
                    { key: "genre" },
                    { key: "avgRating" },
                    { key: "popularity" },
                    { key: "fullTitle" } 
                ],
                metaFields: {
                    totalRecords: "ResultSet.totalResultsReturned",
                    firstResultPosition: "ResultSet.firstResultPosition"
                }
            };

            // Instantiate movieTitleAutoComplete
            var movieTitleAutoComplete = new YAHOO.widget.AutoComplete("movie", "searchContainer", movieLensDataSource);
            movieTitleAutoComplete.resultTypeList = false;
            movieTitleAutoComplete.generateRequest = function(title)
            {
                // Remove "the " from the beginning of a search
                if( (title.length > 6) && (title.substring(0,6).toLowerCase() == "the%20") )
                    title = title.substring(6);
                return "?format=json&title=" + title;
            };

            return {
                "oDS": movieLensDataSource,
                "oAC": movieTitleAutoComplete
            };
        }();    
    </script>
</div>
</body>
</html>

