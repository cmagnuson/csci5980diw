<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
    <!-- META TAGS -->
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <!-- CSS STYLES -->
    <!-- Individual YUI CSS files --> 
    <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.6.0/build/base/base-min.css"> 
    <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.6.0/build/assets/skins/sam/skin.css"> 
    <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.6.0/build/assets/skins/sam/autocomplete.css"> 
	<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.6.0/build/tabview/assets/skins/sam/tabview.css">

    <!-- LL Urban Achiever Styles -->
    <link rel="stylesheet" type="text/css" href="css/yui-maxi.css"> 
    <style type="text/css">
    </style>
    <!-- END STYLES -->

    <!-- JAVASCRIPT -->
    <!-- Individual YUI JS files --> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/yahoo-dom-event/yahoo-dom-event.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/connection/connection-min.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/get/get.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/datasource/datasource-min.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/autocomplete/autocomplete.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/element/element-beta-debug.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/button/button-min.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/json/json-min.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/charts/charts-experimental-min.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/dragdrop/dragdrop-min.js"></script> 
    <script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/datatable/datatable-min.js"></script> 
	<script type="text/javascript" src="http://yui.yahooapis.com/2.6.0/build/tabview/tabview-debug.js"></script> 
	 
    <!-- LL Urban Achiever JavaScript -->
    <script src="scripts/awsSearch.js"></script> 	 
    <script src="scripts/technoratiSearch.js"></script> 
    <script src="scripts/boxofficeSearch.js"></script> 
    <script src="scripts/boxofficeDisplay.js"></script> 
    <script src="scripts/display.js"></script> 	 
    <script src="scripts/dragDrop.js"></script> 	 
    <script type="text/javascript">
  	//Global variables for each of three movies we may be dealing with
  	var searchMovie = {};
  	var leftMovie = {};
  	var rightMovie = {};
  	YAHOO.widget.Chart.SWFURL = "http://yui.yahooapis.com/2.6.0/build//charts/assets/charts.swf";
  	
  	function runSearch(termField) {
	 	searchMovie.fullTitle = document.getElementById(termField).value;
        var tempTitle = searchMovie.fullTitle;

        // truncate title to exclude string after "(", ",", or ":"
        var index = tempTitle.search(/\u0028/);
        if( index > -1 )
            tempTitle = tempTitle.substring(0, index);
        index = tempTitle.search(",");
        if( index > -1 )
            tempTitle = tempTitle.substring(0, index);
        index = tempTitle.search(":");
        if( index > -1 )
            tempTitle = tempTitle.substring(0, index);

        searchMovie.title = tempTitle;

        // make requests for data from our data sources
     	requestAwsData(searchMovie);
        
        //var poster = YAHOO.util.Dom.get("posterImage");
        //poster.src = imgURL;
        //poster.alt = "Image for " + searchMovie.title;

     	requestTechnoratiData(searchMovie);
        get_trynt_data(searchMovie, function() {
            display_image(searchMovie, "posterImage");
            get_box_office_data(searchMovie, function() {
                //create_box_office_chart(searchMovie, "boxoffice_chart");
            });
        });
	   	//setTimeout("showBlogChart(searchMovie, \"dragDropArea1\")",6000);
		//setTimeout("showBasicInfo(searchMovie, \"dragDropArea2\")",6000);
	  }
	  
	  function sendMovieLeft(){
	    leftMovie = searchMovie;
        resetSearch();
	    displayLeftSide(leftMovie);
	  }
	  function sendMovieRight(){
	    rightMovie = searchMovie;
        resetSearch();
	    displayRightSide(rightMovie);
	  }

      function resetSearch()
      {
          searchMovie = {};
          var poster = YAHOO.util.Dom.get("posterImage");
          var searchField = YAHOO.util.Dom.get("searchMovieTitle");

          poster.src = "images/no_result.jpg";
          poster.alt = "No result available";
          searchField.value = "";
      }
	  
    </script>
    <!-- END JS -->

    <title>Achievers @ the Movies</title>
</head>

<body class="yui-skin-sam">
<div id="mainContent">
    <div id="headerImage">
        <img src="images/achievers_header.jpg" width="950" height="269" alt="Achievers @ The Movies" />
    </div>
    
    <div id="searchArea"> 
        <div id="searchBox">
            <form action="#" onsubmit="runSearch('searchMovieTitle'); return false;">
            <div id="searchAutoComplete">
                <b>Search:</b>
                <input id="searchMovieTitle" type="text"/><input id="searchButton" type="submit" value="Get Movie" />
                <div id="searchContainer"></div>
            </div>
            </form>
            <script type="text/javascript" src="scripts/search.js"></script>
            <!-- TEST BUTTONS -->
            <form action="#" onsubmit="sendMovieLeft(); return false;">
            <input id="sendLeft" type="submit" value="Send Left" />
            </form>
            <form action="#" onsubmit="sendMovieRight(); return false;">
            <input id="sendRight" type="button" value="Send Right" />
            </form>
            <!-- -->
        </div>
        <div id="posterImageArea">
            <img id="posterImage" src="images/no_result.jpg" alt="No result available" />
        </div>
    </div>

    <div id="dragArea">
        <div id="dragDropArea1">
            <img id="drag1" src="images/dragArea.png" alt="Drag and drop poster image here" />
        </div>

        <div id="dragVersus">
            <img id="vs" src="images/vs.png" alt="versus" />
        </div>

        <div id="dragDropArea2">
            <img id="drag2" src="images/dragArea.png" alt="drag and drop poster image here" />
        </div>
    </div>

    <div id="copyright">
        <br />
        <br />
        Copyright &copy; 2009 The Little Lebowski Urban Achievers
    </div>
</div>
</body>
</html>

